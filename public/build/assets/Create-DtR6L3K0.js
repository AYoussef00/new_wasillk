import{r as D,f as B,g as v,c as i,o as a,a as g,d as e,h as c,t as o,u as l,i as U,e as n,j as x,v as b,n as m,b as z}from"./app-CiYPF32z.js";import{_ as S}from"./Header-Ciy7cWji.js";import{U as q,S as H}from"./users-8SAFms_m.js";import{D as N}from"./droplets-BN9NQIn1.js";import{M as L}from"./map-pin-CUexbKcr.js";import"./createLucideIcon-B_zGqJ31.js";const T={class:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50"},A={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16"},O={class:"grid grid-cols-1 lg:grid-cols-3 gap-16"},E={class:"lg:col-span-1"},F={class:"bg-white rounded-3xl shadow-2xl p-10 sticky top-8 border border-gray-100"},I={class:"space-y-8"},$={class:"relative overflow-hidden rounded-2xl"},P=["src","alt"],G={class:"text-center"},J={class:"text-2xl font-bold text-black mb-3"},K={class:"text-gray-600 text-lg"},Q={class:"grid grid-cols-2 gap-6"},R={class:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-4 text-center"},W={class:"text-xl font-bold text-blue-600"},X={class:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-4 text-center"},Y={class:"text-lg font-bold text-green-600"},Z={class:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-4 text-center"},ee={class:"text-lg font-bold text-orange-600"},te={class:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-4 text-center"},se={class:"text-lg font-bold text-purple-600"},oe={class:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 text-white text-center"},re={class:"text-3xl font-bold mb-1"},le={class:"lg:col-span-2"},de={class:"mb-10"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ie={key:0,class:"text-red-500 text-sm mt-2"},ae={key:0,class:"text-red-500 text-sm mt-2"},ue={class:"mt-8"},ce={key:0,class:"text-red-500 text-sm mt-2"},me={class:"mb-10"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},be=["min"],ge={key:0,class:"text-red-500 text-sm mt-2"},fe=["min"],pe={key:0,class:"text-red-500 text-sm mt-2"},ve={class:"mb-10"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},he={class:"relative"},we={key:0,class:"text-red-500 text-sm mt-2"},ke={class:"relative"},_e={key:0,class:"text-red-500 text-sm mt-2"},je={class:"mb-10"},Me={key:0,class:"text-red-500 text-sm mt-2"},Ve={class:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-8 mb-10 border-2 border-blue-100"},Ce={class:"space-y-4 text-lg"},De={class:"flex justify-between items-center py-3 border-b border-blue-200"},Be={class:"font-bold text-gray-900"},Ue={class:"flex justify-between items-center py-3 border-b border-blue-200"},ze={class:"font-bold text-gray-900"},Se={class:"pt-4"},qe={class:"flex justify-between items-center"},He={class:"text-3xl font-bold text-blue-600"},Ne=["disabled"],Le={key:0,class:"flex items-center justify-center"},Te={key:1,class:"flex items-center justify-center"},Ae={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Oe={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ee={class:"inline-block align-bottom bg-white rounded-3xl text-right overflow-hidden shadow-2xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full"},Fe={class:"bg-white px-8 pt-8 pb-6"},Ie={class:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 rounded-3xl p-8 mb-8 border-2 border-blue-100"},$e={class:"flex items-center mb-6 p-4 bg-white rounded-2xl shadow-sm"},Pe=["src","alt"],Ge={class:"text-xl font-bold text-gray-900"},Je={class:"text-gray-600"},Ke={class:"text-blue-600 font-semibold"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},Re={class:"bg-white rounded-2xl p-4 shadow-sm"},We={class:"text-gray-600"},Xe={class:"text-gray-600"},Ye={class:"text-gray-600"},Ze={class:"bg-white rounded-2xl p-4 shadow-sm"},et={class:"text-gray-600"},tt={class:"text-gray-600"},st={class:"text-gray-600"},ot={class:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-6 text-white text-center"},rt={class:"text-4xl font-bold"},mt={__name:"Create",props:{car:Object,errors:Object},setup(s){const y=s,h=new Date().toISOString().split("T")[0],f=D(!1),r=B({customer_name:"",customer_phone:"",customer_address:"",pickup_date:"",return_date:"",id_image:null,license_image:null,notes:""}),w=v(()=>r.processing),p=v(()=>{if(!r.pickup_date||!r.return_date)return 0;const u=new Date(r.pickup_date),t=new Date(r.return_date),d=Math.abs(t-u);return Math.ceil(d/(1e3*60*60*24))+1}),k=v(()=>(p.value*y.car.daily_rate).toFixed(2)),_=u=>u?new Date(u).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"}):"",M=u=>{r.id_image=u.target.files[0]},V=u=>{r.license_image=u.target.files[0]},j=()=>{f.value=!1,window.location.href="/"},C=()=>{r.post(`/cars/${y.car.id}/book`,{onSuccess:()=>{f.value=!0},onError:()=>{}})};return(u,t)=>(a(),i("div",T,[g(S),e("div",A,[e("div",O,[e("div",E,[e("div",F,[t[12]||(t[12]=e("h2",{class:"text-3xl font-bold text-gray-900 mb-8 text-center"},"تفاصيل السيارة",-1)),e("div",I,[e("div",$,[e("img",{src:s.car.images[0]||"/images/car-placeholder.jpg",alt:(s.car.brand_ar||"تويوتا")+" "+(s.car.model_ar||"كورولا"),class:"w-full h-64 object-cover rounded-2xl shadow-lg"},null,8,P),t[6]||(t[6]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"},null,-1))]),e("div",G,[e("h3",J,o(s.car.brand_ar||"تويوتا")+" "+o(s.car.model_ar||"كورولا"),1),e("p",K,o(s.car.category.name),1)]),e("div",Q,[e("div",R,[g(l(q),{class:"w-8 h-8 text-blue-600 mx-auto mb-2"}),t[7]||(t[7]=e("div",{class:"text-sm text-gray-600"},"المقاعد",-1)),e("div",W,o(s.car.seats),1)]),e("div",X,[g(l(H),{class:"w-8 h-8 text-green-600 mx-auto mb-2"}),t[8]||(t[8]=e("div",{class:"text-sm text-gray-600"},"الناقل",-1)),e("div",Y,o(s.car.transmission),1)]),e("div",Z,[g(l(N),{class:"w-8 h-8 text-orange-600 mx-auto mb-2"}),t[9]||(t[9]=e("div",{class:"text-sm text-gray-600"},"الوقود",-1)),e("div",ee,o(s.car.fuel_type),1)]),e("div",te,[g(l(L),{class:"w-8 h-8 text-purple-600 mx-auto mb-2"}),t[10]||(t[10]=e("div",{class:"text-sm text-gray-600"},"الرقم",-1)),e("div",se,o(s.car.license_plate),1)])]),e("div",oe,[e("div",re,o(s.car.daily_rate),1),t[11]||(t[11]=e("div",{class:"text-blue-100"},"ريال / يوم",-1))])])])]),e("div",le,[e("form",{onSubmit:U(C,["prevent"]),class:"bg-white rounded-3xl shadow-2xl p-10 border border-gray-100"},[t[32]||(t[32]=e("h2",{class:"text-3xl font-bold text-gray-900 mb-10 text-center"},"تفاصيل الحجز",-1)),e("div",de,[t[16]||(t[16]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-6 flex items-center"},[e("div",{class:"bg-blue-100 rounded-full p-3 mr-4"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])]),n(" المعلومات الشخصية ")],-1)),e("div",ne,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-lg font-semibold text-gray-700 mb-3"},"اسم العميل *",-1)),x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>l(r).customer_name=d),type:"text",placeholder:"أدخل الاسم الكامل",class:m(["w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg transition-all duration-300",{"border-red-500 focus:ring-red-500/20":s.errors.customer_name}]),required:""},null,2),[[b,l(r).customer_name]]),s.errors.customer_name?(a(),i("p",ie,o(s.errors.customer_name),1)):c("",!0)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-lg font-semibold text-gray-700 mb-3"},"رقم الهاتف *",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>l(r).customer_phone=d),type:"tel",placeholder:"+966 50 123 4567",class:m(["w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg transition-all duration-300",{"border-red-500 focus:ring-red-500/20":s.errors.customer_phone}]),required:""},null,2),[[b,l(r).customer_phone]]),s.errors.customer_phone?(a(),i("p",ae,o(s.errors.customer_phone),1)):c("",!0)])]),e("div",ue,[t[15]||(t[15]=e("label",{class:"block text-lg font-semibold text-gray-700 mb-3"},"العنوان *",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>l(r).customer_address=d),type:"text",placeholder:"أدخل العنوان الكامل",class:m(["w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg transition-all duration-300",{"border-red-500 focus:ring-red-500/20":s.errors.customer_address}]),required:""},null,2),[[b,l(r).customer_address]]),s.errors.customer_address?(a(),i("p",ce,o(s.errors.customer_address),1)):c("",!0)])]),e("div",me,[t[19]||(t[19]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-6 flex items-center"},[e("div",{class:"bg-green-100 rounded-full p-3 mr-4"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),n(" فترة التأجير ")],-1)),e("div",xe,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-lg font-semibold text-gray-700 mb-3"},"تاريخ الاستلام *",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>l(r).pickup_date=d),type:"date",min:l(h),class:m(["w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg transition-all duration-300",{"border-red-500 focus:ring-red-500/20":s.errors.pickup_date}]),required:""},null,10,be),[[b,l(r).pickup_date]]),s.errors.pickup_date?(a(),i("p",ge,o(s.errors.pickup_date),1)):c("",!0)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-lg font-semibold text-gray-700 mb-3"},"تاريخ التسليم *",-1)),x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>l(r).return_date=d),type:"date",min:l(r).pickup_date||l(h),class:m(["w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg transition-all duration-300",{"border-red-500 focus:ring-red-500/20":s.errors.return_date}]),required:""},null,10,fe),[[b,l(r).return_date]]),s.errors.return_date?(a(),i("p",pe,o(s.errors.return_date),1)):c("",!0)])])]),e("div",ve,[t[24]||(t[24]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-6 flex items-center"},[e("div",{class:"bg-purple-100 rounded-full p-3 mr-4"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),n(" المستندات المطلوبة ")],-1)),e("div",ye,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-lg font-semibold text-gray-700 mb-3"},"صورة الهوية *",-1)),e("div",he,[e("input",{onChange:M,type:"file",accept:"image/*",class:m(["w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg transition-all duration-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",{"border-red-500 focus:ring-red-500/20":s.errors.id_image}]),required:""},null,34)]),s.errors.id_image?(a(),i("p",we,o(s.errors.id_image),1)):c("",!0),t[21]||(t[21]=e("p",{class:"text-sm text-gray-500 mt-2"},"صورة واضحة للهوية الوطنية أو الإقامة",-1))]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-lg font-semibold text-gray-700 mb-3"},"صورة الرخصة *",-1)),e("div",ke,[e("input",{onChange:V,type:"file",accept:"image/*",class:m(["w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg transition-all duration-300 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100",{"border-red-500 focus:ring-red-500/20":s.errors.license_image}]),required:""},null,34)]),s.errors.license_image?(a(),i("p",_e,o(s.errors.license_image),1)):c("",!0),t[23]||(t[23]=e("p",{class:"text-sm text-gray-500 mt-2"},"صورة واضحة لرخصة القيادة",-1))])])]),e("div",je,[t[25]||(t[25]=e("label",{class:"block text-lg font-semibold text-gray-700 mb-3"},"ملاحظات (اختياري)",-1)),x(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=d=>l(r).notes=d),rows:"5",placeholder:"أضف أي ملاحظات أو متطلبات خاصة",class:m(["w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 text-lg transition-all duration-300 resize-none",{"border-red-500 focus:ring-red-500/20":s.errors.notes}])},null,2),[[b,l(r).notes]]),s.errors.notes?(a(),i("p",Me,o(s.errors.notes),1)):c("",!0)]),e("div",Ve,[t[29]||(t[29]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-6 text-center"},"ملخص الحجز",-1)),e("div",Ce,[e("div",De,[t[26]||(t[26]=e("span",{class:"text-gray-600"},"المدة:",-1)),e("span",Be,o(p.value)+" يوم",1)]),e("div",Ue,[t[27]||(t[27]=e("span",{class:"text-gray-600"},"السعر اليومي:",-1)),e("span",ze,o(s.car.daily_rate)+" ريال",1)]),e("div",Se,[e("div",qe,[t[28]||(t[28]=e("span",{class:"text-2xl font-bold text-gray-900"},"المبلغ الإجمالي:",-1)),e("span",He,o(k.value)+" ريال",1)])])])]),e("button",{type:"submit",disabled:w.value,class:"w-full bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 text-white py-6 px-8 rounded-2xl font-bold text-xl hover:from-blue-700 hover:via-blue-800 hover:to-indigo-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 shadow-2xl hover:shadow-3xl"},[w.value?(a(),i("span",Le,t[30]||(t[30]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" جاري الحجز... ",-1)]))):(a(),i("span",Te,t[31]||(t[31]=[e("svg",{class:"w-6 h-6 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),n(" تأكيد الحجز ",-1)])))],8,Ne)],32)])])]),f.value?(a(),i("div",Ae,[e("div",Oe,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:j}),e("div",Ee,[e("div",Fe,[t[45]||(t[45]=z('<div class="mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-green-100 mb-8"><svg class="h-16 w-16 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><div class="text-center mb-8"><h3 class="text-4xl font-bold text-gray-900 mb-4" id="modal-title"> تم تأكيد الحجز بنجاح! 🎉 </h3><p class="text-xl text-gray-600">سيتم التواصل معك قريباً لتأكيد التفاصيل</p></div>',2)),e("div",Ie,[t[42]||(t[42]=e("h4",{class:"text-2xl font-bold text-gray-900 mb-6 text-center"},"تفاصيل الحجز",-1)),e("div",$e,[e("img",{src:s.car.images[0]||"/images/car-placeholder.jpg",alt:(s.car.brand_ar||"تويوتا")+" "+(s.car.model_ar||"كورولا"),class:"w-20 h-20 object-cover rounded-xl mr-4"},null,8,Pe),e("div",null,[e("h5",Ge,o(s.car.brand_ar||"تويوتا")+" "+o(s.car.model_ar||"كورولا"),1),e("p",Je,o(s.car.category.name),1),e("p",Ke,o(s.car.license_plate),1)])]),e("div",Qe,[e("div",Re,[t[36]||(t[36]=e("h6",{class:"font-semibold text-gray-900 mb-2"},"معلومات العميل",-1)),e("p",We,[t[33]||(t[33]=e("span",{class:"font-medium"},"الاسم:",-1)),n(" "+o(l(r).customer_name),1)]),e("p",Xe,[t[34]||(t[34]=e("span",{class:"font-medium"},"الهاتف:",-1)),n(" "+o(l(r).customer_phone),1)]),e("p",Ye,[t[35]||(t[35]=e("span",{class:"font-medium"},"العنوان:",-1)),n(" "+o(l(r).customer_address),1)])]),e("div",Ze,[t[40]||(t[40]=e("h6",{class:"font-semibold text-gray-900 mb-2"},"تفاصيل التأجير",-1)),e("p",et,[t[37]||(t[37]=e("span",{class:"font-medium"},"تاريخ الاستلام:",-1)),n(" "+o(_(l(r).pickup_date)),1)]),e("p",tt,[t[38]||(t[38]=e("span",{class:"font-medium"},"تاريخ التسليم:",-1)),n(" "+o(_(l(r).return_date)),1)]),e("p",st,[t[39]||(t[39]=e("span",{class:"font-medium"},"المدة:",-1)),n(" "+o(p.value)+" يوم",1)])])]),e("div",ot,[t[41]||(t[41]=e("div",{class:"text-2xl font-bold mb-2"},"المبلغ الإجمالي",-1)),e("div",rt,o(k.value)+" ريال",1)])]),e("div",{class:"flex flex-col sm:flex-row gap-4 justify-center"},[e("button",{onClick:j,class:"w-full sm:w-auto bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 transform hover:scale-105 shadow-lg"},t[43]||(t[43]=[e("svg",{class:"w-5 h-5 inline-block ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1),n(" العودة للصفحة الرئيسية ",-1)])),t[44]||(t[44]=e("a",{href:"/cars",class:"w-full sm:w-auto bg-gradient-to-r from-green-600 to-green-700 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:from-green-700 hover:to-green-800 transition-all duration-300 transform hover:scale-105 shadow-lg text-center"},[e("svg",{class:"w-5 h-5 inline-block ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),n(" تصفح المزيد من السيارات ")],-1))])])])])])):c("",!0)]))}};export{mt as default};
